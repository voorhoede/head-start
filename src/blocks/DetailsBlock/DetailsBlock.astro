---
import type { DetailsBlockFragment } from '@lib/types/datocms';

interface Props {
    block: DetailsBlockFragment;
}

const { block } = Astro.props;
const splitCharacter = '|';
---

<dl data-layout={block.layout}>
  {
    Object.entries(block.details).map(([key, value]) => (
      <>
        <dt>{key}</dt>
        {(value as string).split(splitCharacter).map((splitValue) => (
          <dd>{splitValue}</dd>
        ))}
      </>
    ))
  }
</dl>

<style>
    dl[data-layout="horizontal"] {
        display: grid;
        grid-template-columns: max-content 1fr;
    }

    dl[data-layout="horizontal"] dd {
        grid-column: 2;
    }
</style>
