---
const { data } = Astro.props;
const aspectRatio = data.width && data.height ? data.width / data.height : null;
const maxWidth = data.width ? `${data.width}px` : '100%';
---

<div
  class="default-embed"
  set:html={data.html}
/>

<style define:vars={{ aspectRatio, maxWidth }}>
  .default-embed {
    aspect-ratio: var(--aspectRatio);
    max-width: var(--maxWidth);
    overflow: hidden;
  }
  .default-embed :global(iframe) {
    aspect-ratio: var(--aspectRatio);
    max-width: 100% !important;
    height: auto !important;
  }
</style>
