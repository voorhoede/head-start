---
import InternalLink from '@blocks/InternalLink/InternalLink.astro';

type Node = {
  meta?: {
    id: string;
    value: string;
  }[];
};
type Link = {
  href: string;
  title: string;
};
type Props = {
  node: Node;
  link: Link;
};

const { node, link } = Astro.props;
const openInNewTab = Boolean(node.meta?.find(entry => entry.id === 'target' && entry.value === '_blank'));
---

<InternalLink link={link} {openInNewTab}>
  <slot />
</InternalLink>
