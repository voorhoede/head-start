---
import type { ImageBlockFragment } from '@lib/types/datocms';
import type { BlockContext } from '@blocks/Blocks';
import Image from './Image.astro';

interface Props {
  block: ImageBlockFragment;
  context?: BlockContext;
}

const { block, context } = Astro.props;
const loadingStrategy = (context?.location === 'header' || context?.location === 'body' && context?.index < 3) ? 'eager' : 'lazy';
---

<Image image={ block.image } loading={ loadingStrategy } />
