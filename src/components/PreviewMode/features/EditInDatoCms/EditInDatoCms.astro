---
import type { DatoCmsRecordIdentity } from '@lib/datocms/recordIdentity';
import { getEditorLinkFromRecord } from './lib/getEditorLinkFromRecord';

interface Props {
  datocmsRecord?: DatoCmsRecordIdentity | null;
}

const { datocmsRecord } = Astro.props;
const editorLink = getEditorLinkFromRecord(datocmsRecord);
---

{
  editorLink && (
    <a href={editorLink.url} target="_blank" rel="noopener noreferrer">
      {editorLink.isFallback ? 'open DatoCMS' : 'edit in DatoCMS'}
    </a>
  )
}

<style>
  a {
    color: currentColor;
  }
</style>
