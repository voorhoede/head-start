---
import { t } from '@lib/i18n';
import { extractTocItemsFromHtml } from './index';
import List from './List.astro';

const html = await Astro.slots.render('default');
const items = extractTocItemsFromHtml(html);
---

{
  items.length > 0 && (
    <nav>
      <h2>{t('table_of_contents')}</h2>
      <List items={items} />
    </nav>
  )
}
<Fragment set:html={html} />
